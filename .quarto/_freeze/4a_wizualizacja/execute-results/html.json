{
  "hash": "a2402365b3c7b0d440d3ed7224fa0ec9",
  "result": {
    "markdown": "# Typy wykresów\n\n| Typ wykresu      | Typ (ang)    | ggplot2                |\n|------------------|--------------|------------------------|\n| Wykres rozrzutu  | Scatter plot | geom_point()           |\n| Wykres pudełkowy | Box plot     | geom_boxplot()         |\n| Histogram        | Histogram    | geom_histogram()       |\n| Wykres gęstości  | Density plot | geom_density()         |\n| Wykres słupkowy  | Bar plot     | geom_bar(), geom_col() |\n| Wykres liniowy   | Line plot    | geom_line()            |\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"gapminder\", package = \"gapminder\")\ndane2007 <- subset(gapminder, year==2007)\n```\n:::\n\n\n## Histogram\n\n-   Graficzny sposób przedstawiania rozkładu liczebności dla wybranej zmiennej.\n\n-   Wykres został poraz pierwszy wprowadzony przez Pearsona w 1895 roku.\n\n-   Wykres powstaje w dwóch etapach:\n\n    (1) Zakres wartości danych dzielony jest na rozłączne przedziały o równej szerokości,\n    (2) Dla każdego przedziału rysowane są słupki o wysokości równej liczbie obserwacji w każdym przedziale.\n\n-   Dobór przedziałów jest istotny. Różne przedziały mogą pokazać różną informację.\n\n-   Pakiet `ggplot2` domyślnie definiuje przedział jako zakres/30. Ustawienia te można zmienić używając parametru \\*bins\\* (liczba przedziałów) lub \\*binwidth\\* (szerokość przedziału).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#HISTOGRAM\nggplot(dane2007, aes(x = gdpPercap)) + geom_histogram()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#HISTOGRAM\nggplot(dane2007, aes(x = gdpPercap)) + geom_histogram(bins = 15)\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#HISTOGRAM\nggplot(dane2007, aes(x = gdpPercap)) + geom_histogram(binwidth=10000)\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n> Wykonać histogram dla zmiennej lifeExp dla 2007 roku. Ustawić szerokość przedziałów co 5 lat.\n\n## Wykres słupkowy\n\n-   stosowany do wizualizacji danych jakościowych - tj. częstość występowania zmiennej jakościowej (np. liczba państw na danym kontynencie).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(dane2007, aes(x = continent)) + geom_bar()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Wykres liniowy\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Oblicza średnią oczekiwaną długość życia dla poszczególnych lat\nlibrary(dplyr)\nby_year <- group_by(gapminder, year)\nmean_lifeExp_by_year <- summarize(by_year, \n                                  srednia=mean(lifeExp))\n\n#Wykres liniowy\nggplot(data = mean_lifeExp_by_year, aes(x = year, y = srednia)) + geom_line()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n> Wykonać wykres liniowy pokazujący jak zmieniała się średnia wartość gpdPercap w poszczególnych latach?\n\n## Wykres rozrzutu\n\n-   stosowany do pokazania zależności między zmiennymi\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data=dane2007, aes(x=gdpPercap, y=lifeExp)) + geom_point()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n> Zwizualizować zależnośc między długością trwania życia a liczbą ludności w 2007 roku.\n\n## Wizualizacja statystyk opisowych\n\n### Wykres pudełkowy\n\nObrazuje podstawowe statystyki opisowe oraz wartości odstające :\n\n-   dolny kwartyl - dolna krawędz pudełka\n-   mediana - linia środkowa\n-   górny kwartyl - górna krawędź pudełka\n-   linie pionowe oznaczają najbardziej ekstremalne wartości (1,5*IQR ponad krawędź pudełka, dolna to 1,5*IQR poniżej wartości dolnej krawędzi pudełka)\n-   punkty oznaczają wartości odstające\n\n![Statystyki opisowe na wykresie pudełkowym](figures/4_boxplot.png)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = continent, y = lifeExp)) + geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres pudełkowy w podziale na lata dla zmiennej gdpPercap.\n\n> Wykonaj wykres pudełkowy w podziale na lata dla zmiennej lifeExp.\n\n## `stat_summary`\n\nFunkcja `stat_summary` pozwala na wizualizację dowolnych statystyk opisowych bez konieczności wcześniejszego obliczania ich z wykorzystaniem np. funkcji `dplyr::summarize()`.\n\n-   **wizualizacja średnich wartości zmiennej lifeExp w poszczególnych latach**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder, aes(x = year, y = lifeExp)) + \n  stat_summary(fun = \"mean\", geom = \"line\")\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres pokazujący jak zmieniała się wartość średnia PKB na osobę (zmienna gdPercap) w latach 1952-2007.\n\n-   **wizualizacja mediany dla zmiennej lifeExp w poszczególnych latach**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder, aes(x = year, y = lifeExp)) + \n  stat_summary(fun = \"median\", geom = \"line\")\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n-   **wizualizacja wartości średniej (punkt), oraz minimalnej i maksymalnej**\n\nobiekt geometryczny *pointrange* wymaga zdefiniowania 3 funkcji: określającej położenie punktu (argument *fun*), oraz \"wąsów\" (argumenty *fun.min* oraz *fun.max*)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder, aes(x = year, y = lifeExp)) +\n  stat_summary(fun = mean,\n               geom = \"pointrange\",\n               fun.min = min,\n               fun.max = max)\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres pokazujący jak zmieniała się wartość średnia, minimalna oraz maksymalna PKB na osobę (zmienna gdPercap) w latach 1952-2007.\n\n-   **wizualizacja wartości średnich +/- odchylenie standardowe**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder, aes(x = year, y = lifeExp)) +\n  stat_summary(fun = mean,\n               geom = \"pointrange\",\n               fun.max = function(x) mean(x) + sd(x),\n               fun.min = function(x) mean(x) - sd(x))\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres pokazujący wartości śrendnie $\\pm$ odchylenie standardowe dla zmiennej gdpPercap.\n\n-   **przebieg minimalnych i maksymalnych wartości lifeExp w latach 1952 - 2007**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(gapminder, aes(x = year, y = lifeExp)) +\n  stat_summary(fun = mean, geom = \"ribbon\", fill = \"blue\", \n               fun.max = min, fun.min = max)\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n## Warstwy - łączenie różnych typów wykresów\n\nPakiet `ggplot2` pozwala także na łączenie ze sobą różnych typów wykresów.\n\n-   **wizualizacja średniej zmienności oczekiwanej długości trwania życia w latach 1952-2007**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Oblicza średnią oczekiwaną długość życia dla poszczególnych lat\nlibrary(dplyr)\nby_year <- group_by(gapminder, year)\nmean_lifeExp_by_year <- summarize(by_year, \n                                  srednia=mean(lifeExp))\n\n#Wykres liniowy\nggplot(data = mean_lifeExp_by_year, aes(x = year, y = srednia)) + \n  geom_line() + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n> Zwizualizuj średnią zmienność PKB na osobę w latach 1952-2007\n\n-   **dodanie wartości średniej (czerwony punkt) do wykresu pudełkowego**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = continent, y = lifeExp)) + \n  geom_boxplot() + \n  stat_summary(fun.y=mean, geom=\"point\", shape=20, size=5, color=\"red\", fill=\"red\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n```\n:::\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres pudełkowy dla zmiennej gdPercap w podziale na lata oraz dodaj do wykresu punkt oznaczający średnią wartość.\n\n-   **dodanie wartości obserwacji do wykresu pudełkowego**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = continent, y = lifeExp)) +\n  geom_boxplot() +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-17-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = continent, y = lifeExp)) +\n  geom_boxplot() +\n  geom_jitter()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres pudełkowy dla zmiennej lifeExp w podziale na lata. Dodaj do wykresu punkty oznaczające poszczególne obserwacje.\n\n-   **wizualizacja statystyk opisowych długości trwnia życia (zmienna lifeExp) w Europie w latach 1952-2007**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder %>% \n  filter(continent == 'Europe') %>% \n  ggplot(aes(x = year, y = lifeExp)) +\n  stat_summary(fun = mean, geom = \"ribbon\", alpha = .3, fill = \"#1E90FF\", fun.max = min, fun.min = max) +\n  stat_summary(fun = mean, geom = \"pointrange\", fun.max = min, fun.min = max, color = \"darkblue\") +\n  stat_summary(fun = max, geom = \"line\", color = \"black\") +\n  stat_summary(fun = min, geom = \"line\", color = \"black\")\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n> Zwizaulizuj statystyki opisowe (min, max, średnią) PKB na osobę (zmienna gdpPercap) w Azji w latach 1952-2007\n\n### Wizualizacja danych w grupach\n\nWizualizacja danych w podziale na grupy może być wykonana m.in za pomocą wykresu pudełkowego (*geom_boxplot()*), wykresu skrzypcowego (*geom_violin()*), lub za pomocą tzw. multiwykresów (*facet_grid()*)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = continent, y = lifeExp)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = continent, y = lifeExp)) +\n  geom_violin()\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-21-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj wykres skrzypcowy dla zmiennej gdPercap w podziale na kontynenty.\n\n## Multiwykresy\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = gdpPercap, y = lifeExp)) +\n  geom_point() +\n  facet_wrap(~continent)\n```\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dane2007, aes(x = lifeExp)) +\n  geom_histogram() +\n  facet_wrap(~continent)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output-display}\n![](4a_wizualizacja_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n\n> Wykonaj multiwykres przedstawiający rozkład wartości zmiennej gdpPercap (na histogramie) w podziale na kontynenty.\n\n## Zapisywanie wykresów\n\n\n::: {.cell}\n\n```{.r .cell-code}\np <- ggplot(data = dane2007, aes(x = continent, y = lifeExp)) + \n  geom_boxplot() + \n  labs(x = \"Kontynent\", y = \"Oczekiwana długość trwania życia\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(filename = \"Wykres.pdf\", plot = p)\nggsave(filename = \"Wykres.png\", plot = p, dpi = 300)\n```\n:::\n",
    "supporting": [
      "4a_wizualizacja_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}